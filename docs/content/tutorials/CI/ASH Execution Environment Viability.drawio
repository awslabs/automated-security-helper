<mxfile host="Electron" modified="2024-06-11T03:18:15.241Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.5.1 Chrome/124.0.6367.207 Electron/30.0.6 Safari/537.36" etag="ks6ZaEZ-8zEduztv5ZJk" version="24.5.1" type="device">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="1889" dy="1329" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-2" value="" style="rounded=0;html=1;jettySize=auto;orthogonalLoop=1;fontSize=11;endArrow=block;endFill=0;endSize=8;strokeWidth=1;shadow=0;labelBackgroundColor=none;edgeStyle=orthogonalEdgeStyle;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1PNlXNPMl7_RdnQJJaQS-2" target="1PNlXNPMl7_RdnQJJaQS-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="295" y="282" as="sourcePoint" />
            <mxPoint x="201" y="372" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-0" value="SaaS" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="WIyWlLk6GJQsqaUBKTNV-2" vertex="1" connectable="0">
          <mxGeometry x="-0.2317" y="2" relative="1" as="geometry">
            <mxPoint x="-43" y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1PNlXNPMl7_RdnQJJaQS-2" target="1PNlXNPMl7_RdnQJJaQS-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-7" value="Self-hosted" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1PNlXNPMl7_RdnQJJaQS-6" vertex="1" connectable="0">
          <mxGeometry x="-0.7158" y="2" relative="1" as="geometry">
            <mxPoint x="39" y="-13" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1PNlXNPMl7_RdnQJJaQS-4" target="1PNlXNPMl7_RdnQJJaQS-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="192" y="612" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-10" value="Using SaaS&amp;nbsp;Hosted&amp;nbsp;Agents" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1PNlXNPMl7_RdnQJJaQS-9" vertex="1" connectable="0">
          <mxGeometry x="-0.04" relative="1" as="geometry">
            <mxPoint y="-3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1PNlXNPMl7_RdnQJJaQS-4" target="1PNlXNPMl7_RdnQJJaQS-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-12" value="Using self-hosted &lt;br&gt;agents with SaaS CI" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1PNlXNPMl7_RdnQJJaQS-11" vertex="1" connectable="0">
          <mxGeometry x="-0.2812" y="2" relative="1" as="geometry">
            <mxPoint x="12" y="-36" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-4" value="Are you using the hosted agents from the SaaS provider or self-hosting your own agents?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;spacingLeft=20;spacingRight=20;fillColor=#fff2cc;strokeColor=#d6b656;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="84" y="364" width="216" height="170" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1PNlXNPMl7_RdnQJJaQS-5" target="1PNlXNPMl7_RdnQJJaQS-29" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="638" y="544" />
              <mxPoint x="415" y="544" />
            </Array>
            <mxPoint x="415" y="648" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-22" value="Yes, we can run Linux containers&lt;br&gt;in our self-hosted CI agents" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1PNlXNPMl7_RdnQJJaQS-21" vertex="1" connectable="0">
          <mxGeometry x="-0.0573" y="-2" relative="1" as="geometry">
            <mxPoint x="-13" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1PNlXNPMl7_RdnQJJaQS-5" target="1PNlXNPMl7_RdnQJJaQS-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-26" value="No, we cannot use &lt;br&gt;Linux containers &lt;br&gt;in our self-hosted &lt;br&gt;CI agents&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1PNlXNPMl7_RdnQJJaQS-25" vertex="1" connectable="0">
          <mxGeometry x="0.5833" y="4" relative="1" as="geometry">
            <mxPoint x="-6" y="-96" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-5" value="Can your self-hosted CI &lt;br&gt;agents run Linux containers? &lt;i&gt;This can either be directly as a runner image or via `docker run` in a script&lt;/i&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;spacingLeft=20;spacingRight=20;fillColor=#fff2cc;strokeColor=#d6b656;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="530" y="293" width="216" height="170" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1PNlXNPMl7_RdnQJJaQS-13" target="1PNlXNPMl7_RdnQJJaQS-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-13" value="Start" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;fillColor=#d5e8d4;strokeColor=#82b366;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="365" y="64" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-15" value="&lt;br&gt;You &lt;br&gt;&lt;i&gt;should&lt;/i&gt; be &lt;br&gt;able to run ASH&amp;nbsp;&lt;br&gt;according to your &lt;br&gt;SaaS CI platform&#39;s&amp;nbsp;supported &lt;br&gt;container job mechanisms, as most&lt;br&gt;hosted agents support at least `docker`." style="strokeWidth=2;html=1;shape=mxgraph.flowchart.extract_or_measurement;whiteSpace=wrap;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="77" y="596" width="230" height="127" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-23" value="ASH requires the ability to run Linux containers in order to use it for code scanning." style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="481" y="596" width="230" height="85" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.575;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1PNlXNPMl7_RdnQJJaQS-29" target="1PNlXNPMl7_RdnQJJaQS-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-39" value="No, we do not &lt;br&gt;have a private&lt;br&gt;registry available" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1PNlXNPMl7_RdnQJJaQS-38" vertex="1" connectable="0">
          <mxGeometry x="-0.3753" y="-2" relative="1" as="geometry">
            <mxPoint y="11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-42" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1PNlXNPMl7_RdnQJJaQS-29" target="1PNlXNPMl7_RdnQJJaQS-44" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="638" y="1144" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-43" value="Yes we have an internal &lt;br&gt;private registry for &lt;br&gt;Linux container images." style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1PNlXNPMl7_RdnQJJaQS-42" vertex="1" connectable="0">
          <mxGeometry x="-0.0417" y="1" relative="1" as="geometry">
            <mxPoint x="-1" y="57" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-29" value="Do you have a private &lt;br&gt;container registry such &lt;br&gt;as AWS ECR or GitLab Container Registry that you can publish &lt;br&gt;images to?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;spacingLeft=20;spacingRight=20;fillColor=#fff2cc;strokeColor=#d6b656;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="307" y="674" width="216" height="170" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-37" value="In order to internalize the ASH image, &lt;br&gt;you need an internally available private registry to publish the image to first!&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We recommend Amazon ECR:&lt;/div&gt;&lt;div&gt;https://aws.amazon.com/ecr/&lt;br&gt;&lt;/div&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;fillColor=#f8cecc;strokeColor=#b85450;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="26" y="834" width="290" height="120" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.22;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1PNlXNPMl7_RdnQJJaQS-44" target="1PNlXNPMl7_RdnQJJaQS-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="339" y="1049" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-46" value="ASH container image &lt;br&gt;has been published to&lt;br&gt;your internal private registry" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="1PNlXNPMl7_RdnQJJaQS-45" vertex="1" connectable="0">
          <mxGeometry x="-0.0742" y="-2" relative="1" as="geometry">
            <mxPoint x="-5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-44" value="&lt;br&gt;At &lt;br&gt;this point, &lt;br&gt;you will need to &lt;br&gt;follow your internal &lt;br&gt;processes to publish the &lt;br&gt;ASH image to&amp;nbsp;your private &lt;br&gt;registry.&amp;nbsp;Once the&amp;nbsp;image has been published, continue." style="strokeWidth=2;html=1;shape=mxgraph.flowchart.extract_or_measurement;whiteSpace=wrap;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="551" y="984" width="230" height="130" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-47" value="Congratulations! You should be able to support execution of ASH scans as part of your CI pipeline. You will need to use the &lt;b&gt;internal private image&lt;/b&gt; and desired tag when configuring your ASH scan job in your CI." style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;fillColor=#d5e8d4;strokeColor=#82b366;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="49" y="994" width="300" height="120" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-48" value="&lt;h1&gt;&lt;font style=&quot;font-size: 22px;&quot;&gt;ASH - CI Execution Viability&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;&lt;i style=&quot;border-color: var(--border-color); color: rgb(51, 51, 51);&quot;&gt;Automated Security Helper (ASH) is provided as a Linux container image bundling a list of open-source security tools as a one-stop-shop code scanning solution. Due to this, there are some prerequisites for running ASH in a given envirionment, whether in a CI pipeline or locally.&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;For more information on ASH and the bundled tools, please see the GitHub repository:&amp;nbsp;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;https://github.com/awslabs/automated-security-helper&lt;/i&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontColor=#333333;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3" y="64" width="298" height="230" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-2" value="Is your CI platform a SaaS solution such as gitlab.com or do you self-host your CI platform?" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;spacingLeft=20;spacingRight=20;fillColor=#fff2cc;strokeColor=#d6b656;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="307" y="154" width="216" height="170" as="geometry" />
        </mxCell>
        <mxCell id="1PNlXNPMl7_RdnQJJaQS-49" value="&lt;h1&gt;&lt;font style=&quot;font-size: 20px;&quot;&gt;Last Update&lt;/font&gt;&lt;/h1&gt;&lt;p&gt;Date: 2024-06-10&lt;/p&gt;&lt;p&gt;Updated by: @scrthq&lt;/p&gt;" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;fontColor=#333333;fontStyle=0" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="631" y="64" width="190" height="120" as="geometry" />
        </mxCell>
        <mxCell id="Upick3Fcd9mLaNRsxQqD-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="1PNlXNPMl7_RdnQJJaQS-15" target="1PNlXNPMl7_RdnQJJaQS-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
